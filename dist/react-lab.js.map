{"version":3,"sources":["webpack://ReactLab/webpack/universalModuleDefinition","webpack://ReactLab/./node_modules/iframe-phone/lib/iframe-endpoint.js","webpack://ReactLab/./node_modules/iframe-phone/lib/iframe-phone-rpc-endpoint.js","webpack://ReactLab/./node_modules/iframe-phone/lib/parent-endpoint.js","webpack://ReactLab/./node_modules/iframe-phone/lib/structured-clone.js","webpack://ReactLab/./node_modules/iframe-phone/main.js","webpack://ReactLab/./src/generate-embeddable-html.tsx","webpack://ReactLab/./src/react-lab.tsx","webpack://ReactLab/./src/model-only-interactive.js","webpack://ReactLab/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactLab/webpack/bootstrap","webpack://ReactLab/webpack/runtime/define property getters","webpack://ReactLab/webpack/runtime/hasOwnProperty shorthand","webpack://ReactLab/webpack/runtime/make namespace object","webpack://ReactLab/webpack/startup"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;ACVA,sBAAsB,mBAAO,CAAC,+EAAoB;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/IA,qBAAqB,mBAAO,CAAC,6EAAmB;AAChD,wBAAwB,mBAAO,CAAC,6EAAmB;;AAEnD;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvFA,sBAAsB,mBAAO,CAAC,+EAAoB;;AAElD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,uDAAuD;;AAEvD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7LA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,iBAAiB;AACjB;AACA;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA,mBAA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","file":"react-lab.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactLab\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactLab\"] = factory(root[\"React\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn ","var structuredClone = require('./structured-clone');\nvar HELLO_INTERVAL_LENGTH = 200;\nvar HELLO_TIMEOUT_LENGTH = 60000;\n\nfunction IFrameEndpoint() {\n  var listeners = {};\n  var isInitialized = false;\n  var connected = false;\n  var postMessageQueue = [];\n  var helloInterval;\n\n  function postToParent(message) {\n    // See http://dev.opera.com/articles/view/window-postmessage-messagechannel/#crossdoc\n    //     https://github.com/Modernizr/Modernizr/issues/388\n    //     http://jsfiddle.net/ryanseddon/uZTgD/2/\n    if (structuredClone.supported()) {\n      window.parent.postMessage(message, '*');\n    } else {\n      window.parent.postMessage(JSON.stringify(message), '*');\n    }\n  }\n\n  function post(type, content) {\n    var message;\n    // Message object can be constructed from 'type' and 'content' arguments or it can be passed\n    // as the first argument.\n    if (arguments.length === 1 && typeof type === 'object' && typeof type.type === 'string') {\n      message = type;\n    } else {\n      message = {\n        type: type,\n        content: content\n      };\n    }\n    if (connected) {\n      postToParent(message);\n    } else {\n      postMessageQueue.push(message);\n    }\n  }\n\n  function postHello() {\n    postToParent({\n      type: 'hello'\n    });\n  }\n\n  function addListener(type, fn) {\n    listeners[type] = fn;\n  }\n\n  function removeListener(type) {\n    delete listeners[type];\n  }\n\n  function removeAllListeners() {\n    listeners = {};\n  }\n\n  function getListenerNames() {\n    return Object.keys(listeners);\n  }\n\n  function messageListener(message) {\n    // Anyone can send us a message. Only pay attention to messages from parent.\n    if (message.source !== window.parent) return;\n    var messageData = message.data;\n    if (typeof messageData === 'string') messageData = JSON.parse(messageData);\n\n    if (!connected && messageData.type === 'hello') {\n      connected = true;\n      stopPostingHello();\n      while (postMessageQueue.length > 0) {\n        post(postMessageQueue.shift());\n      }\n    }\n\n    if (connected && listeners[messageData.type]) {\n      listeners[messageData.type](messageData.content);\n    }\n  }\n\n  function disconnect() {\n    connected = false;\n    stopPostingHello();\n    removeAllListeners();\n    window.removeEventListener('message', messageListener);\n  }\n\n  /**\n    Initialize communication with the parent frame. This should not be called until the app's custom\n    listeners are registered (via our 'addListener' public method) because, once we open the\n    communication, the parent window may send any messages it may have queued. Messages for which\n    we don't have handlers will be silently ignored.\n  */\n  function initialize() {\n    if (isInitialized) {\n      return;\n    }\n    isInitialized = true;\n    if (window.parent === window) return;\n\n    // We kick off communication with the parent window by sending a \"hello\" message. Then we wait\n    // for a handshake (another \"hello\" message) from the parent window.\n    startPostingHello();\n    window.addEventListener('message', messageListener, false);\n  }\n\n  function startPostingHello() {\n    if (helloInterval) {\n      stopPostingHello();\n    }\n    helloInterval = window.setInterval(postHello, HELLO_INTERVAL_LENGTH);\n    window.setTimeout(stopPostingHello, HELLO_TIMEOUT_LENGTH);\n    // Post the first msg immediately.\n    postHello();\n  }\n\n  function stopPostingHello() {\n    window.clearInterval(helloInterval);\n    helloInterval = null;\n  }\n\n  // Public API.\n  return {\n    initialize: initialize,\n    getListenerNames: getListenerNames,\n    addListener: addListener,\n    removeListener: removeListener,\n    removeAllListeners: removeAllListeners,\n    disconnect: disconnect,\n    post: post\n  };\n}\n\nvar instance = null;\n\n// IFrameEndpoint is a singleton, as iframe can't have multiple parents anyway.\nmodule.exports = function getIFrameEndpoint() {\n  if (!instance) {\n    instance = new IFrameEndpoint();\n  }\n  return instance;\n};\n","var ParentEndpoint = require('./parent-endpoint');\nvar getIFrameEndpoint = require('./iframe-endpoint');\n\n// Not a real UUID as there's an RFC for that (needed for proper distributed computing).\n// But in this fairly parochial situation, we just need to be fairly sure to avoid repeats.\nfunction getPseudoUUID() {\n  var chars = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  var len = chars.length;\n  var ret = [];\n\n  for (var i = 0; i < 10; i++) {\n    ret.push(chars[Math.floor(Math.random() * len)]);\n  }\n  return ret.join('');\n}\n\nmodule.exports = function IframePhoneRpcEndpoint(handler, namespace, targetWindow, targetOrigin, phone) {\n  var pendingCallbacks = Object.create({});\n\n  // if it's a non-null object, rather than a function, 'handler' is really an options object\n  if (handler && typeof handler === 'object') {\n    namespace = handler.namespace;\n    targetWindow = handler.targetWindow;\n    targetOrigin = handler.targetOrigin;\n    phone = handler.phone;\n    handler = handler.handler;\n  }\n\n  if (!phone) {\n    if (targetWindow === window.parent) {\n      phone = getIFrameEndpoint();\n      phone.initialize();\n    } else {\n      phone = new ParentEndpoint(targetWindow, targetOrigin);\n    }\n  }\n\n  phone.addListener(namespace, function (message) {\n    var callbackObj;\n\n    if (message.messageType === 'call' && typeof this.handler === 'function') {\n      this.handler.call(undefined, message.value, function (returnValue) {\n        phone.post(namespace, {\n          messageType: 'returnValue',\n          uuid: message.uuid,\n          value: returnValue\n        });\n      });\n    } else if (message.messageType === 'returnValue') {\n      callbackObj = pendingCallbacks[message.uuid];\n\n      if (callbackObj) {\n        window.clearTimeout(callbackObj.timeout);\n        if (callbackObj.callback) {\n          callbackObj.callback.call(undefined, message.value);\n        }\n        pendingCallbacks[message.uuid] = null;\n      }\n    }\n  }.bind(this));\n\n  function call(message, callback) {\n    var uuid = getPseudoUUID();\n\n    pendingCallbacks[uuid] = {\n      callback: callback,\n      timeout: window.setTimeout(function () {\n        if (callback) {\n          callback(undefined, new Error(\"IframePhone timed out waiting for reply\"));\n        }\n      }, 2000)\n    };\n\n    phone.post(namespace, {\n      messageType: 'call',\n      uuid: uuid,\n      value: message\n    });\n  }\n\n  function disconnect() {\n    phone.disconnect();\n  }\n\n  this.handler = handler;\n  this.call = call.bind(this);\n  this.disconnect = disconnect.bind(this);\n};\n","var structuredClone = require('./structured-clone');\n\n/**\n  Call as:\n    new ParentEndpoint(targetWindow, targetOrigin, afterConnectedCallback)\n      targetWindow is a WindowProxy object. (Messages will be sent to it)\n\n      targetOrigin is the origin of the targetWindow. (Messages will be restricted to this origin)\n\n      afterConnectedCallback is an optional callback function to be called when the connection is\n        established.\n\n  OR (less secure):\n    new ParentEndpoint(targetIframe, afterConnectedCallback)\n\n      targetIframe is a DOM object (HTMLIframeElement); messages will be sent to its contentWindow.\n\n      afterConnectedCallback is an optional callback function\n\n    In this latter case, targetOrigin will be inferred from the value of the src attribute of the\n    provided DOM object at the time of the constructor invocation. This is less secure because the\n    iframe might have been navigated to an unexpected domain before constructor invocation.\n\n  Note that it is important to specify the expected origin of the iframe's content to safeguard\n  against sending messages to an unexpected domain. This might happen if our iframe is navigated to\n  a third-party URL unexpectedly. Furthermore, having a reference to Window object (as in the first\n  form of the constructor) does not protect against sending a message to the wrong domain. The\n  window object is actualy a WindowProxy which transparently proxies the Window object of the\n  underlying iframe, so that when the iframe is navigated, the \"same\" WindowProxy now references a\n  completely differeent Window object, possibly controlled by a hostile domain.\n\n  See http://www.esdiscuss.org/topic/a-dom-use-case-that-can-t-be-emulated-with-direct-proxies for\n  more about this weird behavior of WindowProxies (the type returned by <iframe>.contentWindow).\n*/\n\nmodule.exports = function ParentEndpoint(targetWindowOrIframeEl, targetOrigin, afterConnectedCallback) {\n  var postMessageQueue = [];\n  var connected = false;\n  var handlers = {};\n  var targetWindowIsIframeElement;\n\n  function getIframeOrigin(iframe) {\n    return iframe.src.match(/(.*?\\/\\/.*?)\\//)[1];\n  }\n\n  function post(type, content) {\n    var message;\n    // Message object can be constructed from 'type' and 'content' arguments or it can be passed\n    // as the first argument.\n    if (arguments.length === 1 && typeof type === 'object' && typeof type.type === 'string') {\n      message = type;\n    } else {\n      message = {\n        type: type,\n        content: content\n      };\n    }\n    if (connected) {\n      var tWindow = getTargetWindow();\n      // if we are laready connected ... send the message\n      // See http://dev.opera.com/articles/view/window-postmessage-messagechannel/#crossdoc\n      //     https://github.com/Modernizr/Modernizr/issues/388\n      //     http://jsfiddle.net/ryanseddon/uZTgD/2/\n      if (structuredClone.supported()) {\n        tWindow.postMessage(message, targetOrigin);\n      } else {\n        tWindow.postMessage(JSON.stringify(message), targetOrigin);\n      }\n    } else {\n      // else queue up the messages to send after connection complete.\n      postMessageQueue.push(message);\n    }\n  }\n\n  function addListener(messageName, func) {\n    handlers[messageName] = func;\n  }\n\n  function removeListener(messageName) {\n    delete handlers[messageName];\n  }\n\n  function removeAllListeners() {\n    handlers = {};\n  }\n\n  // Note that this function can't be used when IFrame element hasn't been added to DOM yet\n  // (.contentWindow would be null). At the moment risk is purely theoretical, as the parent endpoint\n  // only listens for an incoming 'hello' message and the first time we call this function\n  // is in #receiveMessage handler (so iframe had to be initialized before, as it could send 'hello').\n  // It would become important when we decide to refactor the way how communication is initialized.\n  function getTargetWindow() {\n    if (targetWindowIsIframeElement) {\n      var tWindow = targetWindowOrIframeEl.contentWindow;\n      if (!tWindow) {\n        throw \"IFrame element needs to be added to DOM before communication \" +\n              \"can be started (.contentWindow is not available)\";\n      }\n      return tWindow;\n    }\n    return targetWindowOrIframeEl;\n  }\n\n  function receiveMessage(message) {\n    var messageData;\n    if (message.source === getTargetWindow() && (targetOrigin === '*' || message.origin === targetOrigin)) {\n      messageData = message.data;\n      if (typeof messageData === 'string') {\n        messageData = JSON.parse(messageData);\n      }\n      if (handlers[messageData.type]) {\n        handlers[messageData.type](messageData.content);\n      } else {\n        console.log(\"cant handle type: \" + messageData.type);\n      }\n    }\n  }\n\n  function disconnect() {\n    connected = false;\n    removeAllListeners();\n    window.removeEventListener('message', receiveMessage);\n  }\n\n  // handle the case that targetWindowOrIframeEl is actually an <iframe> rather than a Window(Proxy) object\n  // Note that if it *is* a WindowProxy, this probe will throw a SecurityException, but in that case\n  // we also don't need to do anything\n  try {\n    targetWindowIsIframeElement = targetWindowOrIframeEl.constructor === HTMLIFrameElement;\n  } catch (e) {\n    targetWindowIsIframeElement = false;\n  }\n\n  if (targetWindowIsIframeElement) {\n    // Infer the origin ONLY if the user did not supply an explicit origin, i.e., if the second\n    // argument is empty or is actually a callback (meaning it is supposed to be the\n    // afterConnectionCallback)\n    if (!targetOrigin || targetOrigin.constructor === Function) {\n      afterConnectedCallback = targetOrigin;\n      targetOrigin = getIframeOrigin(targetWindowOrIframeEl);\n    }\n  }\n\n  // Handle pages served through file:// protocol. Behaviour varies in different browsers. Safari sets origin\n  // to 'file://' and everything works fine, but Chrome and Safari set message.origin to null.\n  // Also, https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage says:\n  //  > Lastly, posting a message to a page at a file: URL currently requires that the targetOrigin argument be \"*\".\n  //  > file:// cannot be used as a security restriction; this restriction may be modified in the future.\n  // So, using '*' seems like the only possible solution.\n  if (targetOrigin === 'file://') {\n    targetOrigin = '*';\n  }\n\n  // when we receive 'hello':\n  addListener('hello', function () {\n    connected = true;\n\n    // send hello response\n    post({\n      type: 'hello',\n      // `origin` property isn't used by IframeEndpoint anymore (>= 1.2.0), but it's being sent to be\n      // backward compatible with old IframeEndpoint versions (< v1.2.0).\n      origin: window.location.href.match(/(.*?\\/\\/.*?)\\//)[1]\n    });\n\n    // give the user a chance to do things now that we are connected\n    // note that is will happen before any queued messages\n    if (afterConnectedCallback && typeof afterConnectedCallback === \"function\") {\n      afterConnectedCallback();\n    }\n\n    // Now send any messages that have been queued up ...\n    while (postMessageQueue.length > 0) {\n      post(postMessageQueue.shift());\n    }\n  });\n\n  window.addEventListener('message', receiveMessage, false);\n\n  // Public API.\n  return {\n    post: post,\n    addListener: addListener,\n    removeListener: removeListener,\n    removeAllListeners: removeAllListeners,\n    disconnect: disconnect,\n    getTargetWindow: getTargetWindow,\n    targetOrigin: targetOrigin\n  };\n};\n","var featureSupported = {\n  'structuredClones': 0\n};\n\n(function () {\n  var result = 0;\n\n  if (!!window.postMessage) {\n    try {\n      // Spec states you can't transmit DOM nodes and it will throw an error\n      // postMessage implementations that support cloned data will throw.\n      window.postMessage(document.createElement(\"a\"), \"*\");\n    } catch (e) {\n      // BBOS6 throws but doesn't pass through the correct exception\n      // so check error message\n      result = (e.DATA_CLONE_ERR || e.message === \"Cannot post cyclic structures.\") ? 1 : 0;\n      featureSupported = {\n        'structuredClones': result\n      };\n    }\n  }\n}());\n\nexports.supported = function supported() {\n  return featureSupported && featureSupported.structuredClones > 0;\n};\n","module.exports = {\n  /**\n   * Allows to communicate with an iframe.\n   */\n  ParentEndpoint:  require('./lib/parent-endpoint'),\n  /**\n   * Allows to communicate with a parent page.\n   * IFrameEndpoint is a singleton, as iframe can't have multiple parents anyway.\n   */\n  getIFrameEndpoint: require('./lib/iframe-endpoint'),\n  structuredClone: require('./lib/structured-clone'),\n\n  // TODO: May be misnamed\n  IframePhoneRpcEndpoint: require('./lib/iframe-phone-rpc-endpoint')\n\n};\n","// This function returns string with HTML content of the Lab interactive page.\r\n// Note that list of dependencies and some implementation details are based on lab/embeddable.html file.\r\n// This version is different mostly to keep it as small as possible, provide labDistPath, and the fact\r\n// that it's used via srcDoc attribute.\r\nexport const generateEmbeddableHTML = (labDistPath = \"lab/\") => `\r\n  <!doctype html>\r\n  <html>\r\n  <head>\r\n    <meta content=\"text/html;charset=utf-8\" http-equiv=\"Content-Type\">\r\n    <meta content=\"IE=edge,chrome=1\" http-equiv=\"X-UA-Compatible\">\r\n    <link href=\"${labDistPath}lab/vendor/jquery-ui/jquery-ui.min.css\" rel=\"stylesheet\">\r\n    <link href=\"${labDistPath}lab/lab-fonts.css\" rel=\"stylesheet\">\r\n    <link href=\"${labDistPath}lab/lab.css\" rel=\"stylesheet\">\r\n    <link href=\"${labDistPath}embeddable.css\" rel=\"stylesheet\">\r\n    <link href=\"${labDistPath}css/style.css\" rel=\"stylesheet\">\r\n    <link href='${labDistPath}themes/cc-themes.css' rel='stylesheet' type='text/css'>\r\n    <script src=\"${labDistPath}lab/vendor/jquery/jquery.min.js\"></script>\r\n    <script src=\"${labDistPath}lab/vendor/jquery-ui/jquery-ui.min.js\"></script>\r\n    <script src=\"${labDistPath}embeddable.js\"></script>\r\n    <title>LAB on WEB</title>\r\n    <style>\r\n      * {\r\n        -webkit-box-sizing: border-box;\r\n        -moz-box-sizing: border-box;\r\n        box-sizing: border-box\r\n      }\r\n      html, body {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        background: transparent;\r\n        margin: 0;\r\n        padding: 0\r\n      }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <header id=\"siteHeader\">\r\n      <figure class=\"logo\">\r\n        <img src=\"${labDistPath}lab/images/logo.png\" alt=\"LabOnWeb\">\r\n      </figure>\r\n      <!-- Have these buttons only when velocity/temp sensors are exists (check \"sensors\" array) -->\r\n      <div id=\"extract-data\">\r\n        <button id=\"extract-temp\">\r\n          <svg width='20' height='20' height='512px' id='Layer_1' style='enable-background:new 0 0 512 512;' version='1.1' viewBox='0 0 512 512' width='512px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><path fill='white' d='M256,128c-81.9,0-145.7,48.8-224,128c67.4,67.7,124,128,224,128c99.9,0,173.4-76.4,224-126.6   C428.2,198.6,354.8,128,256,128z M256,347.3c-49.4,0-89.6-41-89.6-91.3c0-50.4,40.2-91.3,89.6-91.3s89.6,41,89.6,91.3   C345.6,306.4,305.4,347.3,256,347.3z'/><g><path fill='white' d='M256,224c0-7.9,2.9-15.1,7.6-20.7c-2.5-0.4-5-0.6-7.6-0.6c-28.8,0-52.3,23.9-52.3,53.3c0,29.4,23.5,53.3,52.3,53.3    s52.3-23.9,52.3-53.3c0-2.3-0.2-4.6-0.4-6.9c-5.5,4.3-12.3,6.9-19.8,6.9C270.3,256,256,241.7,256,224z'/></g></g>\r\n          </svg> Temperature\r\n        </button>\r\n        <button id=\"extract-velocity\">\r\n          <svg width='20' height='20' height='512px' id='Layer_1' style='enable-background:new 0 0 512 512;' version='1.1' viewBox='0 0 512 512' width='512px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><path fill='white' d='M256,128c-81.9,0-145.7,48.8-224,128c67.4,67.7,124,128,224,128c99.9,0,173.4-76.4,224-126.6   C428.2,198.6,354.8,128,256,128z M256,347.3c-49.4,0-89.6-41-89.6-91.3c0-50.4,40.2-91.3,89.6-91.3s89.6,41,89.6,91.3   C345.6,306.4,305.4,347.3,256,347.3z'/><g><path fill='white' d='M256,224c0-7.9,2.9-15.1,7.6-20.7c-2.5-0.4-5-0.6-7.6-0.6c-28.8,0-52.3,23.9-52.3,53.3c0,29.4,23.5,53.3,52.3,53.3    s52.3-23.9,52.3-53.3c0-2.3-0.2-4.6-0.4-6.9c-5.5,4.3-12.3,6.9-19.8,6.9C270.3,256,256,241.7,256,224z'/></g></g>\r\n          </svg> Velocity\r\n        </button>\r\n        <button id=\"extract-pressure\">\r\n          <svg width='20' height='20' height='512px' id='Layer_1' style='enable-background:new 0 0 512 512;' version='1.1' viewBox='0 0 512 512' width='512px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><path fill='white' d='M256,128c-81.9,0-145.7,48.8-224,128c67.4,67.7,124,128,224,128c99.9,0,173.4-76.4,224-126.6   C428.2,198.6,354.8,128,256,128z M256,347.3c-49.4,0-89.6-41-89.6-91.3c0-50.4,40.2-91.3,89.6-91.3s89.6,41,89.6,91.3   C345.6,306.4,305.4,347.3,256,347.3z'/><g><path fill='white' d='M256,224c0-7.9,2.9-15.1,7.6-20.7c-2.5-0.4-5-0.6-7.6-0.6c-28.8,0-52.3,23.9-52.3,53.3c0,29.4,23.5,53.3,52.3,53.3    s52.3-23.9,52.3-53.3c0-2.3-0.2-4.6-0.4-6.9c-5.5,4.3-12.3,6.9-19.8,6.9C270.3,256,256,241.7,256,224z'/></g></g>\r\n          </svg> Pressure\r\n        </button>\r\n        <button id=\"extract-heatflux\">\r\n          <svg width='20' height='20' height='512px' id='Layer_1' style='enable-background:new 0 0 512 512;' version='1.1' viewBox='0 0 512 512' width='512px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><path fill='white' d='M256,128c-81.9,0-145.7,48.8-224,128c67.4,67.7,124,128,224,128c99.9,0,173.4-76.4,224-126.6   C428.2,198.6,354.8,128,256,128z M256,347.3c-49.4,0-89.6-41-89.6-91.3c0-50.4,40.2-91.3,89.6-91.3s89.6,41,89.6,91.3   C345.6,306.4,305.4,347.3,256,347.3z'/><g><path fill='white' d='M256,224c0-7.9,2.9-15.1,7.6-20.7c-2.5-0.4-5-0.6-7.6-0.6c-28.8,0-52.3,23.9-52.3,53.3c0,29.4,23.5,53.3,52.3,53.3    s52.3-23.9,52.3-53.3c0-2.3-0.2-4.6-0.4-6.9c-5.5,4.3-12.3,6.9-19.8,6.9C270.3,256,256,241.7,256,224z'/></g></g>\r\n          </svg>Heat Flux\r\n        </button>\r\n        <button id=\"drag-sensor\"> \r\n          <svg width='20' height='20' enable-background='new 0 0 50 50' height='50px' id='Layer_1' version='1.1' viewBox='0 0 50 50' width='50px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect fill='none' height='50' width='50'/><line fill='none' stroke='#ffffff' stroke-miterlimit='10' stroke-width='4' x1='9' x2='41' y1='25' y2='25'/><line fill='none' stroke='#ffffff' stroke-miterlimit='10' stroke-width='4' x1='25' x2='25' y1='9' y2='41'/>\r\n          </svg> Sensor</button>\r\n        <button id=\"drag-object\">\r\n          <svg width='20' height='20' enable-background='new 0 0 50 50' height='50px' id='Layer_1' version='1.1' viewBox='0 0 50 50' width='50px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><rect fill='none' height='50' width='50'/><line fill='none' stroke='#ffffff' stroke-miterlimit='10' stroke-width='4' x1='9' x2='41' y1='25' y2='25'/><line fill='none' stroke='#ffffff' stroke-miterlimit='10' stroke-width='4' x1='25' x2='25' y1='9' y2='41'/>\r\n          </svg> Object\r\n        </button>\r\n      </div>\r\n    </header>\r\n\r\n    <!-- dummy DOM that helps to detect whether the simulation lab is loaded -->\r\n    <div id=\"loaded\" style=\"display: none\">hey</div>\r\n    <div id=\"interactive-container\" tabindex=\"0\"></div>\r\n\r\n    <!-- Modal to display the temp data -->\r\n    <div id=\"tempModal\">\r\n      <div id=\"modalButtonContainer\">\r\n        <button id=\"copy-button\">Copy the data</button>\r\n        <button id=\"close\">Close</button>\r\n      </div>\r\n      <div id=\"tempModal-content\">\r\n        <h3>Temperature (°C)</h3>\r\n        <table id=\"table-data\">\r\n          <thead>\r\n            <tr id=\"table-header\"></tr>\r\n          </thead>\r\n          <tbody id=\"table-container\"></tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div id=\"velocityModal\">\r\n      <div id=\"modalButtonContainer\">\r\n        <button id=\"velocity-copy-button\">Copy the data</button>\r\n        <button id=\"velocity-close\">Close</button>\r\n      </div>\r\n      <div id=\"velocityModal-content\">\r\n        <h3>Velocity (m/s)</h3>\r\n        <table id=\"velocity-table-data\">\r\n          <thead>\r\n            <tr id=\"velocity-table-header\"></tr>\r\n          </thead>\r\n          <tbody id=\"velocity-table-container\"></tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div id=\"pressureModal\">\r\n      <div id=\"modalButtonContainer\">\r\n        <button id=\"pressure-copy-button\">Copy the data</button>\r\n        <button id=\"pressure-close\">Close</button>\r\n      </div>\r\n      <div id=\"pressureModal-content\">\r\n        <h3>Pressure (pa)</h3>\r\n        <table id=\"pressure-table-data\">\r\n          <thead>\r\n            <tr id=\"pressure-table-header\"></tr>\r\n          </thead>\r\n          <tbody id=\"pressure-table-container\"></tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div id=\"dragModal\">\r\n      <div id=\"dragModal-content\">\r\n        <h3>Drag any following object you want</h3>\r\n        <div id=\"shape-box\">\r\n          <div id=\"rectangle\" draggable=\"true\"></div>\r\n          <div id=\"ellipse\" draggable=\"true\"></div>\r\n          <div id=\"triangle\" draggable=\"true\"></div>\r\n          <div id=\"airfoil\" draggable=\"true\"></div>\r\n        </div>\r\n        <div id=\"draw-box\">\r\n          <h3>Draw any polygons you want except rectangle, circle, triangle</h3>\r\n          <canvas id=\"drawing\"></canvas>\r\n          <button id=\"add-object\">Add Object</button>\r\n        </div>\r\n        <div id=\"coordinates-box\">\r\n          <h3>Or you can pass the coordinates of the polygon that you want</h3>\r\n          <p style=\"color: red\">\r\n            NOTES: Please put numbers in two columns. Values should be less than\r\n            10.\r\n          </p>\r\n          <textarea id=\"coordinates\"></textarea>\r\n          <button id=\"add\">Add</button>\r\n        </div>\r\n      </div>\r\n      <button id=\"dragModalClose\">Close</button>\r\n    </div>\r\n    <div id=\"shapeModal\">\r\n      <div id=\"shapeModal-content\">\r\n        <h4>Changing Size</h4>\r\n        <form id=\"change-form\"></form>\r\n      </div>\r\n      <button id=\"save\">Save</button>\r\n      <button id=\"shapeModalClose\">Close</button>\r\n    </div>\r\n\r\n    <div id=\"heatfluxModal\">\r\n      <div id=\"modalButtonContainer\">\r\n        <button id=\"heatflux-copy-button\">Copy the data</button>\r\n        <button id=\"heatflux-close\">Close</button>\r\n      </div>\r\n      <div id=\"heatfluxModal-content\">\r\n        <h3>Heat Flux (W/m<sup>2</sup>)</h3>\r\n        <table id=\"heatflux-table-data\">\r\n          <thead>\r\n            <tr id=\"heatflux-table-header\"></tr>\r\n          </thead>\r\n          <tbody id=\"heatflux-table-container\"></tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"sensorModal\">\r\n      <div id=\"modalButtonContainer\">\r\n        <button id=\"sensor-close\"><?xml version='1.0' ?><svg width='16' height='16' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'><polygon fill-rule='evenodd' points='8 9.414 3.707 13.707 2.293 12.293 6.586 8 2.293 3.707 3.707 2.293 8 6.586 12.293 2.293 13.707 3.707 9.414 8 13.707 12.293 12.293 13.707 8 9.414'/></svg></button>\r\n      </div>\r\n      <div id=\"sensorModal-content\">\r\n        <p>Drag and drop sensors on the model</p>\r\n          <div id=\"sensor-options\">\r\n            <figure>   \r\n              <div draggable=\"true\" id=\"drag-thermometer\"  style=\"z-index: 1; width: 12px; height: 36px; margin:auto; display: flex; align-items: center;\">\r\n                <img src = \"${labDistPath}lab/images/thermometer.svg\" alt=\"Thermometer SVG\" width=\"12px\" height=\"24px\"/>           \r\n              </div>\r\n              <figcaption>Thermometer</figcaption>\r\n            </figure>\r\n            <figure>\r\n              <div draggable=\"true\" id=\"drag-anemometer\"  style=\"z-index: 1; width: 36px; height: 36px; margin:auto; display: flex; align-items: center;\">\r\n                <img src = \"${labDistPath}lab/images/anemometer.svg\" alt=\"Anemometer SVG\"/>\r\n              </div>\r\n              <figcaption>Anemometer</figcaption>\r\n            </figure>\r\n            <figure>\r\n              <div draggable=\"true\" id=\"drag-heatflux\"  style=\"z-index: 1; width: 36px; height: 36px; margin:auto; display: flex; align-items: center;\">\r\n                <img src = \"${labDistPath}lab/images/heatFlux.svg\" alt=\"Heatflux SVG\" width=\"36px\" height=\"12px\"/>\r\n              </div>\r\n              <figcaption>Heatflux</figcaption>\r\n            </figure>\r\n            <figure>\r\n              <div draggable=\"true\" id=\"drag-barometer\"  style=\"z-index: 1; width: 12px; height: 36px; margin:auto; display: flex; align-items: center;\">\r\n                <img src = \"${labDistPath}lab/images/barometer.svg\" alt=\"Barometer SVG\" width=\"12px\" height=\"24px\"/>\r\n              </div>\r\n              <figcaption>Barometer</figcaption>\r\n            </figure>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <script src=\"${labDistPath}lab/lab.js\"></script>\r\n\r\n    <script src=\"${labDistPath}/scripts/extract_data.js\" defer></script>\r\n    <script src=\"${labDistPath}/scripts/drag_sensor.js\" defer></script>\r\n    <script src=\"${labDistPath}/scripts/drag_object.js\" defer></script>\r\n    <script src=\"${labDistPath}/scripts/draw_object.js\" defer></script>\r\n    <script src=\"${labDistPath}/scripts/coordinates.js\" defer></script>\r\n\r\n    <script>\r\n      Lab.config.rootUrl = \"${labDistPath}lab\";\r\n      // sharing won't work so disable it\r\n      Lab.config.sharing = false;\r\n      // Keep Embeddable namespace to be consistent with lab/embeddable.html\r\n      window.Embeddable = {\r\n        controller: new Lab.InteractivesController(null, '#interactive-container')\r\n      };\r\n    </script>\r\n    </body>\r\n  </html>\r\n`;\r\n","import React from 'react';\r\nimport iframePhone from 'iframe-phone';\r\nimport MODEL_ONLY_INTERACTIVE from './model-only-interactive';\r\nimport { generateEmbeddableHTML } from \"./generate-embeddable-html\";\r\n\r\nconst DEF_UPDATE_DELAY = 75; // ms\r\n\r\ninterface IProps {\r\n  // Whether to use local iframe with \"srcDoc\" attribute or regular \"src\" attr pointing to standard Lab embeddable.html\r\n  // page. It's recommended to keep this property equal to true unless there are some issues. When this property is\r\n  // equal to false, Lab distribution needs to be under the same domain.\r\n  useSrcDocIframe?: boolean;\r\n  // Source to Lab distribution. This package is providing lab distribution that can be used (/lab).\r\n  // It needs to end with `/`. When useSrcDocIframe = false, it needs to be hosted under the same domain.\r\n  labDistPath?: string;\r\n  // Lab model JSON (parsed).\r\n  model: object;\r\n  // Lab interactive JSON (parsed). If not provided, MODEL_ONLY_INTERACTIVE will be used.\r\n  interactive?: object;\r\n  // Lab properties.\r\n  props?: object;\r\n  // Batch Lab properties updates and send them to Lab after given time period.\r\n  // You can provide value in ms or use true (the default delay value will be used).\r\n  propsUpdateDelay?: boolean | number;\r\n  // Lab observed properties (onPropChange will be called when any of them changes).\r\n  observedProps?: string[];\r\n  playing?: boolean;\r\n  // Callbacks.\r\n  onModelLoad?: () => void;\r\n  onPropChange?: (propName: string, value: any) => void;\r\n  onLogEvent?: (action: string, data: any) => void;\r\n  // Iframe properties.\r\n  width?: string | number;\r\n  height?: string | number;\r\n  allowFullScreen?: boolean;\r\n  frameBorder?: string;\r\n  // Lab lets you update interactive or model without reloading the iframe, but that might lead to memory leaks\r\n  // and performance issues. Complete iframe reload is a safe option, but it increases loading time a bit.\r\n  reloadIframeOnModelUpdate?: boolean;\r\n}\r\ninterface IState {\r\n  loading: boolean;\r\n}\r\n\r\nexport default class Lab extends React.Component<IProps, IState> {\r\n  static defaultProps = {\r\n    interactive: MODEL_ONLY_INTERACTIVE,\r\n    useSrcDocIframe: true,\r\n    labDistPath: 'lab/',\r\n    width: '565px',\r\n    height: '435px',\r\n    allowFullScreen: true,\r\n    frameBorder: '0',\r\n    props: {},\r\n    observedProps: [],\r\n    propsUpdateDelay: false,\r\n    reloadIframeOnModelUpdate: true\r\n  };\r\n\r\n  public iframeRef = React.createRef<HTMLIFrameElement>();\r\n\r\n  private _labUpdateTimeoutID: number | null = null;\r\n  private _propsToSet = {};\r\n  private _phone: any;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true\r\n    };\r\n    this._handleIframeLoad = this._handleIframeLoad.bind(this);\r\n    this._asyncLabPropertiesUpdate = this._asyncLabPropertiesUpdate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const connectToIframe = () => {\r\n      if (this.iframeRef.current) {\r\n        this._phone = new iframePhone.ParentEndpoint(this.iframeRef.current);\r\n        this._phone.addListener('log', (content: any) => {\r\n          this.props.onLogEvent?.(content.action, content.data);\r\n        });\r\n        this.iframeRef.current.addEventListener('load', this._handleIframeLoad);\r\n      } else {\r\n        setTimeout(connectToIframe, 100);\r\n      }\r\n    }\r\n    connectToIframe();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._phone.disconnect();\r\n    this.iframeRef.current?.removeEventListener('load', this._handleIframeLoad);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: IProps) {\r\n    if (nextProps.interactive !== this.props.interactive ||\r\n        nextProps.model !== this.props.model) {\r\n      // Complete iframe reload is slower, but more bulletproof and workarounds Lab issues related to memory leaks.\r\n      if (nextProps.reloadIframeOnModelUpdate) {\r\n        // Looks a bit magic, but interactive will be loaded and completely setup (including interactive and model jsons)\r\n        // by the iframe \"onload\" handler. Take a look at _handleIframeLoad() method.\r\n        this.iframeRef.current?.contentWindow?.location.reload();\r\n        this.setState({loading: true});\r\n      } else {\r\n        this._loadInteractive(nextProps.interactive, nextProps.model);\r\n      }\r\n    }\r\n    if (nextProps.props !== this.props.props) {\r\n      // Set only DIFF of new and old properties. It's quite important difference,\r\n      // as Lab calls 'onChange' callbacks each time we set given property,\r\n      // even if we set the same value.\r\n      this._setLabProperties(diff(nextProps.props, this.props.props));\r\n    }\r\n    if (nextProps.playing !== this.props.playing) {\r\n      this._setLabPlaying(!!nextProps.playing);\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: IProps, nextState: IState) {\r\n    // List here everything that is used in render() method.\r\n    // Other properties are sent directly to Lab using scriptingAPI, so we don't need to re-render component.\r\n    const viewProps = ['width', 'height', 'useSrcDocIframe', 'labDistPath', 'frameBorder', 'allowFullScreen'];\r\n    const viewState = ['loading'];\r\n    for (const prop of viewProps) {\r\n      if ((nextProps as any)[prop] !== (this.props as any)[prop]) return true;\r\n    }\r\n    for (const prop of viewState) {\r\n      if ((nextState as any)[prop] !== (this.state as any)[prop]) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render () {\r\n    const { width, height, frameBorder, allowFullScreen, labDistPath, useSrcDocIframe } = this.props;\r\n    const { loading } = this.state;\r\n    const style = loading ? {visibility: 'hidden' as const} : {};\r\n    const src = useSrcDocIframe ? \"\" : `${labDistPath}embeddable.html`;\r\n    const srcDoc = useSrcDocIframe ? generateEmbeddableHTML(labDistPath) : undefined;\r\n    return (\r\n      <iframe ref={this.iframeRef} src={src} srcDoc={srcDoc} frameBorder={frameBorder} style={style}\r\n        width={width} height={height} allowFullScreen={allowFullScreen}>\r\n      </iframe>\r\n    )\r\n  }\r\n\r\n  // Public API.\r\n\r\n  get scriptingAPI() {\r\n    // window.script is exported by Lab\r\n    return (this.iframeRef.current?.contentWindow as any)?.script;\r\n  }\r\n\r\n  get interactiveController() {\r\n    // Embeddable.controller is exported by Lab\r\n    return (this.iframeRef.current?.contentWindow as any)?.Embeddable?.controller;\r\n  }\r\n\r\n  get iframe() {\r\n    return this.iframeRef.current;\r\n  }\r\n\r\n  get phone() {\r\n    return this._phone;\r\n  }\r\n\r\n  // Private methods. Use React properties instead.\r\n\r\n  _handleIframeLoad() {\r\n    this.interactiveController.on('modelLoaded.react-lab', () => {\r\n      this._setLabProperties(this.props.props);\r\n      this._addLabListeners(this.props.observedProps || []);\r\n      this._setLabPlaying(!!this.props.playing);\r\n      this.props.onModelLoad?.();\r\n      this._handleModelLoad();\r\n    });\r\n    this._loadInteractive(this.props.interactive, this.props.model);\r\n  }\r\n\r\n  _handleModelLoad() {\r\n    this.setState({loading: false});\r\n  }\r\n\r\n  _loadInteractive(interactive: any, model: any) {\r\n    // Iframe might be still loading. The interactive will be loaded when iframe is loaded.\r\n    if (!this.interactiveController) return;\r\n    if (interactive) {\r\n      if (model) {\r\n        interactive = combineInteractiveAndModel(interactive, model)\r\n      }\r\n      if (this.scriptingAPI) {\r\n        // Stop the model before loading a new one to avoid performance issues.\r\n        this.scriptingAPI.stop();\r\n      }\r\n      this.interactiveController.loadInteractive(interactive);\r\n    }\r\n  }\r\n\r\n  _setLabProperties(props: any) {\r\n    if (!this.props.propsUpdateDelay) {\r\n      // Iframe or model might be still loading. The props will be set when model is loaded.\r\n      if (this.scriptingAPI) this.scriptingAPI.set(props);\r\n      return;\r\n    }\r\n    extend(this._propsToSet, props);\r\n    if (this._labUpdateTimeoutID !== null) {\r\n      return;\r\n    }\r\n    let delay = this.props.propsUpdateDelay === true ? DEF_UPDATE_DELAY : this.props.propsUpdateDelay;\r\n    this._labUpdateTimeoutID = window.setTimeout(this._asyncLabPropertiesUpdate, delay);\r\n  }\r\n\r\n  _asyncLabPropertiesUpdate() {\r\n    // Iframe or model might be still loading. The props will be set when model is loaded.\r\n    if (this.scriptingAPI) this.scriptingAPI.set(this._propsToSet);\r\n    this._labUpdateTimeoutID = null;\r\n    this._propsToSet = {};\r\n  }\r\n\r\n  _setLabPlaying(v: boolean) {\r\n    // Iframe or model might be still loading. Model will be started or stopped when model is loaded.\r\n    if (!this.scriptingAPI) return;\r\n    if (v) {\r\n      this.scriptingAPI.start();\r\n    } else {\r\n      this.scriptingAPI.stop();\r\n    }\r\n  }\r\n\r\n  _addLabListeners(observedProps: string[]) {\r\n    observedProps.forEach((propName) => {\r\n      this.scriptingAPI.onPropertyChange(propName, (value: any) => {\r\n        this.props.onPropChange?.(propName, value);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction combineInteractiveAndModel(interactive: any, model: any) {\r\n  delete interactive.models[0].url;\r\n  interactive.models[0].model = model;\r\n  return interactive;\r\n}\r\n\r\nfunction diff(newProps: any, oldProps: any = {}) {\r\n  let result: Record<string, any> = {};\r\n  Object.keys(newProps).forEach(function (key) {\r\n    if (newProps[key] !== oldProps[key]) result[key] = newProps[key];\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction extend(target: any, source: any) {\r\n  for (var key in source) {\r\n    if (source.hasOwnProperty(key)) {\r\n      target[key] =source[key];\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","// Simple Lab interactive that ensures that only Lab model is visible.\r\nexport default {\r\n  \"title\": \"Lab Interactive\",\r\n  \"aspectRatio\": 1,\r\n  \"theme\": \"no-framing\",\r\n  \"showTopBar\": false,\r\n  \"showBottomBar\": false,\r\n  \"models\": [\r\n    {\r\n      \"type\": \"md2d\",\r\n      \"id\": \"model\"\r\n    }\r\n  ]\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/react-lab.tsx\");\n"],"sourceRoot":""}